(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{125:function(n,e,t){n.exports=t(149)},149:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t.n(r),a=t(37),i=t.n(a),u=t(176),o=t(98),s=(t(143),t(7)),l=t(4),f=t(30);function b(){var n=Object(s.a)(["\n    width: 100%;\n    background-color: black;\n    overflow: hidden;\n  "]);return b=function(){return n},n}function p(){var n=Object(s.a)(["\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n          "]);return p=function(){return n},n}function d(){var n=Object(s.a)(["\n            display: none;\n          "]);return d=function(){return n},n}function v(){var n=Object(s.a)(["\n          display: block;\n          width: 100%;\n          height: 100%;\n        "]);return v=function(){return n},n}var j={editor:Object(l.b)(b())},m=function(){var n=Object(r.useState)(""),e=Object(f.a)(n,2),t=e[0],c=e[1];return Object(l.c)("div",{css:j.editor},Object(l.c)("label",{css:Object(l.b)(v())},Object(l.c)("input",{type:"file",accept:"image/*",css:Object(l.b)(d()),onChange:function(n){var e,t=null===(e=n.target.files)||void 0===e?void 0:e[0];if(t){var r=new FileReader;r.addEventListener("load",(function(n){var e,t;c(null!==(e=null===(t=n.target)||void 0===t?void 0:t.result)&&void 0!==e?e:null)})),r.readAsDataURL(t)}}}),Object(l.c)("img",{css:Object(l.b)(p()),src:t})))};function O(){var n=Object(s.a)(["\n    background-color: rgb(0, 120, 210);\n    color: white;\n    font-weight: 700;\n    padding: 6px 24px;\n  "]);return O=function(){return n},n}var h={statusBar:Object(l.b)(O())},g=function(){return Object(l.c)("div",{css:h.statusBar},"Idle")},x=t(12),y=t.n(x),w=t(19),E=t(34);function k(){var n=Object(s.a)(["\n    margin: 0 12px;\n    cursor: pointer;\n    &:hover {\n      color: white;\n    }\n  "]);return k=function(){return n},n}function F(){var n=Object(s.a)(["\n    display: flex;\n    flex: 1;\n    justify-content: flex-start;\n  "]);return F=function(){return n},n}function I(){var n=Object(s.a)(["\n            display: none;\n          "]);return I=function(){return n},n}var S={applicationMenu:Object(l.b)(F()),menuItem:Object(l.b)(k())},M=function(){var n=Object(E.useCreateFileEntryMutation)({refetchQueries:[{query:E.FileEntriesDocument}],awaitRefetchQueries:!0}),e=Object(f.a)(n,1)[0];return Object(l.c)("div",{css:S.applicationMenu},Object(l.c)("span",{css:S.menuItem},"\uc5ec\uae30\uc5d0 \ub85c\uace0 \uc785\ub825"),Object(l.c)("label",null,Object(l.c)("span",{css:S.menuItem},"File"),Object(l.c)("input",{type:"file",accept:"image/*",css:Object(l.b)(I()),onChange:function(){var n=Object(w.a)(y.a.mark((function n(t){var r,c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null===(r=t.target.files)||void 0===r?void 0:r[0]){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e({variables:{input:{file:c}}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),Object(l.c)("span",{css:S.menuItem},"Edit"))},D=t(65);function B(){var n=Object(s.a)(["\n    margin: 12px;\n    cursor: pointer;\n    transition: color 100ms ease;\n    &:hover {\n      color: white;\n    }\n  "]);return B=function(){return n},n}function C(){var n=Object(s.a)(["\n    display: flex;\n    flex: 1;\n    justify-content: center;\n  "]);return C=function(){return n},n}var z={editorMenu:Object(l.b)(C()),icon:Object(l.b)(B())},R=function(){return Object(l.c)("div",{css:z.editorMenu},Object(l.c)(D.a,{css:z.icon,size:24}),Object(l.c)(D.c,{css:z.icon,size:24}),Object(l.c)(D.d,{css:z.icon,size:24}),Object(l.c)(D.b,{css:z.icon,size:24}))},A=t(113);function L(){var n=Object(s.a)(["\n    margin: 12px;\n    cursor: pointer;\n    transition: color 100ms ease;\n    &:hover {\n      color: white;\n    }\n  "]);return L=function(){return n},n}function Q(){var n=Object(s.a)(["\n    display: flex;\n    flex: 1;\n    justify-content: flex-end;\n  "]);return Q=function(){return n},n}var $={etcMenu:Object(l.b)(Q()),icon:Object(l.b)(L())},P=function(){var n=Object(r.useCallback)((function(){return window.open("https://github.com/szmc-team/SickZil-Machine")}),[]);return Object(l.c)("div",{css:$.etcMenu},Object(l.c)(A.a,{css:$.icon,size:32,onClick:n}))};function q(){var n=Object(s.a)(["\n    flex-shrink: 0;\n    width: 100%;\n    height: 48px;\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n      0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n    background-color: rgb(32, 32, 32);\n    color: rgb(192, 192, 192);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 12px;\n  "]);return q=function(){return n},n}var U={menuBar:Object(l.b)(q())},W=function(){return Object(l.c)("header",{css:U.menuBar},Object(l.c)(M,null),Object(l.c)(R,null),Object(l.c)(P,null))};function J(){var n=Object(s.a)(["\n    height: 100%;\n    overflow-y: scroll;\n    display: flex;\n    flex-direction: column;\n    padding: 0;\n    margin: 0;\n    list-style-type: none;\n  "]);return J=function(){return n},n}var N={list:Object(l.b)(J())},T=function(n){var e=n.children;return Object(l.c)("ul",{css:N.list},e)};function G(){var n=Object(s.a)(["\n    margin-top: 6px;\n    margin-left: 12px;\n    font-size: 12px;\n  "]);return G=function(){return n},n}function H(){var n=Object(s.a)(["\n    background-color: gray;\n    width: 48px;\n    height: 48px;\n    object-fit: contain;\n  "]);return H=function(){return n},n}function X(){var n=Object(s.a)(["\n    cursor: pointer;\n    padding: 6px 12px;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n\n    margin: 6px 0;\n    transition: background-color 100ms ease;\n    &:hover {\n      background-color: rgb(32, 32, 32);\n    }\n  "]);return X=function(){return n},n}var Z={item:Object(l.b)(X()),img:Object(l.b)(H()),name:Object(l.b)(G())},K=function(n){var e=n.id,t=n.img,r=n.name,c=Object(E.useDeleteFileEntryMutation)({refetchQueries:[{query:E.FileEntriesDocument}],awaitRefetchQueries:!0}),a=Object(f.a)(c,1)[0];return Object(l.c)("li",{css:Z.item},Object(l.c)("img",{src:t,css:Z.img}),Object(l.c)("div",null,Object(l.c)("span",{css:Z.name},r),Object(l.c)("button",{onClick:function(){return a({variables:{input:{id:e}}})}},"DELETE")))};function V(){var n=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: rgb(56, 56, 56);\n    color: white;\n    width: 240px;\n    height: 100%;\n  "]);return V=function(){return n},n}var Y={explorer:Object(l.b)(V())},_=function(){var n=Object(E.useFileEntriesQuery)().data,e=null===n||void 0===n?void 0:n.fileEntries,t=Object(r.useState)([]),c=Object(f.a)(t,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){Promise.all((null!==e&&void 0!==e?e:[]).map((function(n){var e=n.id,t=n.name,r=n.blob;return new Promise((function(n){var c=new FileReader;c.addEventListener("load",(function(r){return n({id:e,name:t,img:r.target.result})})),c.readAsDataURL(r)}))}))).then((function(n){return i(n)}))}),[e]),Object(l.c)("div",{css:Y.explorer},Object(l.c)(T,null,a.map((function(n){var e=n.id,t=n.name,r=n.img;return Object(l.c)(K,{key:e,id:e,name:t,img:r})}))))};function nn(){var n=Object(s.a)(["\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n    overflow: hidden;\n  "]);return nn=function(){return n},n}function en(){var n=Object(s.a)(["\n    flex-shrink: 0;\n  "]);return en=function(){return n},n}function tn(){var n=Object(s.a)(["\n    width: 100%;\n    height: 100%;\n    color: var(--text-color);\n    background-color: var(--bg-color);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  "]);return tn=function(){return n},n}function rn(){var n=Object(s.a)(["\n    width: 100vw;\n    height: 100vh;\n  "]);return rn=function(){return n},n}var cn={wrapper:Object(l.b)(rn()),app:Object(l.b)(tn()),activityBarWrapper:Object(l.b)(en()),row:Object(l.b)(nn())},an=function(){return Object(l.c)("div",{css:cn.wrapper},Object(l.c)("div",{css:cn.app},Object(l.c)(W,null),Object(l.c)("div",{css:cn.row},Object(l.c)(m,null),Object(l.c)("div",{css:cn.activityBarWrapper},Object(l.c)(_,null))),Object(l.c)(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var un=t(66),on=t(172),sn=t(173),ln=t(76),fn=function(n){var e=n.children,t=Object(un.a)({palette:{type:"dark",primary:sn.a,secondary:ln.a}});return Object(l.c)(on.a,{theme:t}," ",e)};function bn(){var n=Object(s.a)(["\n    body {\n      margin: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n        'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n        'Helvetica Neue', sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }\n\n    *,\n    *::before,\n    *::after {\n      box-sizing: border-box;\n    }\n  "]);return bn=function(){return n},n}var pn=function(){return Object(l.c)(l.a,{styles:dn.master})},dn={master:Object(l.b)(bn())},vn=t(174),jn=Object(E.configureClient)(),mn=function(){return c.a.createElement(vn.a,{client:jn},c.a.createElement(u.a,null,c.a.createElement(o.SnackbarProvider,null,c.a.createElement(fn,null,c.a.createElement(pn,null),c.a.createElement(an,null)))))};i.a.render(c.a.createElement(mn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},34:function(n,e,t){"use strict";var r=t(96);t.d(e,"configureClient",(function(){return r.a}));var c=t(93);t.d(e,"FileEntriesDocument",(function(){return c.a})),t.d(e,"useCreateFileEntryMutation",(function(){return c.b})),t.d(e,"useDeleteFileEntryMutation",(function(){return c.c})),t.d(e,"useFileEntriesQuery",(function(){return c.d}));t(94)},93:function(n,e,t){"use strict";t.d(e,"b",(function(){return p})),t.d(e,"c",(function(){return v})),t.d(e,"a",(function(){return j})),t.d(e,"d",(function(){return m}));var r=t(7),c=t(64),a=t.n(c),i=t(121),u=t(118);t(119);function o(){var n=Object(r.a)(["\n  query fileEntry($id: ID!) {\n    fileEntry(id: $id) @client {\n      id\n      name\n      blob\n    }\n  }\n"]);return o=function(){return n},n}function s(){var n=Object(r.a)(["\n  query fileEntries {\n    fileEntries @client {\n      id\n      name\n      blob\n    }\n  }\n"]);return s=function(){return n},n}function l(){var n=Object(r.a)(["\n  mutation deleteFileEntry($input: DeleteFileEntryInput!) {\n    deleteFileEntry(input: $input) @client\n  }\n"]);return l=function(){return n},n}function f(){var n=Object(r.a)(["\n  mutation createFileEntry($input: CreateFileEntryInput!) {\n    createFileEntry(input: $input) @client\n  }\n"]);return f=function(){return n},n}var b=a()(f());function p(n){return i.a(b,n)}var d=a()(l());function v(n){return i.a(d,n)}var j=a()(s());function m(n){return u.a(j,n)}a()(o())},94:function(n,e){},96:function(n,e,t){"use strict";var r={};t.r(r),t.d(r,"createFileEntry",(function(){return b})),t.d(r,"deleteFileEntry",(function(){return d}));var c={};t.r(c),t.d(c,"fileEntry",(function(){return j})),t.d(c,"fileEntries",(function(){return O}));var a=t(178),i=t(175),u=t(116),o=t(30),s=t(12),l=t.n(s),f=t(19);function b(n,e,t){return p.apply(this,arguments)}function p(){return(p=Object(f.a)(l.a.mark((function n(e,t,r){var c,a,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.input.file,a=r.fileManager,n.next=4,a.create(c);case 4:return i=n.sent,n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e,t){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(l.a.mark((function n(e,t,r){var c,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.input.id,a=r.fileManager,n.next=4,a.delete(c);case 4:return n.abrupt("return",!0);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function j(n,e,t){return m.apply(this,arguments)}function m(){return(m=Object(f.a)(l.a.mark((function n(e,t,r){var c,a,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.id,a=r.fileManager,n.next=4,a.read(c);case 4:return i=n.sent,n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(n,e,t){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(l.a.mark((function n(e,t,r){var c,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.fileManager,n.next=3,c.readAll();case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var g=[{Mutation:r,Query:c}],x=t(102),y=t(103),w=t(63),E=t.n(w),k=t(180),F=function(){function n(){Object(x.a)(this,n),this.blobStorage=E.a.createInstance({name:"blob",driver:E.a.INDEXEDDB}),this.metaStorage=E.a.createInstance({name:"meta",driver:E.a.LOCALSTORAGE})}return Object(y.a)(n,[{key:"create",value:function(){var n=Object(f.a)(l.a.mark((function n(e){var t,r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(k.a)(),n.next=3,I(e);case 3:return r=n.sent,c=D(t,e),n.next=7,this.blobStorage.setItem(t,r);case 7:return n.next=9,this.metaStorage.setItem(t,c);case 9:return n.abrupt("return",t);case 10:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"read",value:function(){var n=Object(f.a)(l.a.mark((function n(e){var t,r,c,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.blobStorage.getItem(e);case 2:return t=n.sent,n.next=5,this.metaStorage.getItem(e);case 5:if(r=n.sent,t&&r){n.next=8;break}return n.abrupt("return",null);case 8:return c=M(t),a=r.name,n.abrupt("return",{id:e,name:a,blob:c});case 11:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"readAll",value:function(){var n=Object(f.a)(l.a.mark((function n(){var e,t,r,c=this;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.metaStorage.keys();case 2:return e=n.sent,n.next=5,Promise.all(e.map((function(n){return c.metaStorage.getItem(n)})));case 5:return t=n.sent,n.next=8,Promise.all(e.map((function(n){return c.blobStorage.getItem(n)})));case 8:return r=n.sent,n.abrupt("return",t.map((function(n,e){return{id:n.id,name:n.name,blob:M(r[e])}})));case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"delete",value:function(){var n=Object(f.a)(l.a.mark((function n(e){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.blobStorage.removeItem(e);case 2:return n.next=4,this.metaStorage.removeItem(e);case 4:return n.abrupt("return",e);case 5:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()}]),n}();function I(n){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(l.a.mark((function n(e){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FileReader).readAsArrayBuffer(e),n.abrupt("return",new Promise((function(n,e){t.onload=function(t){var r=t.target;return r?n(r.result):e()},t.onerror=e})));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function M(n){return new Blob([n])}function D(n,e){return{id:n,name:e.name}}function B(){var n,e=new F,t=(n={fileManager:e},g.map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(o.a)(e,2),r=t[0],c=t[1];return[r,Object.fromEntries(Object.entries(c).map((function(e){var t=Object(o.a)(e,2),r=t[0],c=t[1];return[r,function(e,t,r,a){return c(e,t,Object(u.a)({},r,{},n),a)}]})))]})))}))),r=new a.a;return new i.a({cache:r,resolvers:t})}t.d(e,"a",(function(){return B}))}},[[125,1,2]]]);
//# sourceMappingURL=main.804a0e17.chunk.js.map